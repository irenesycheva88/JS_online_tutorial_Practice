<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<script src="https://js.cx/test/libs.js"></script>
</head>
<body>

	<script>
		// Создайте калькулятор
	
		'use strict';

		// Моё решение
		var calculator = {
			a: 0,
			b: 0,
			read: function() {
				this.a = +prompt("a?", 0);
				this.b = +prompt("b?", 0);
			},

			sum: function() {
				return this.a + this.b;
			},

			mul: function() {
				return this.a * this.b;
			}
		}
		
		/*
		// Решение из учебника
		var calculator = {
			sum: function() {
				return this.a + this.b;
			},

			mul: function() {
				return this.a * this.b;
			},

			read: function() {
				this.a = +prompt('a?', 0);
				this.b = +prompt('b?', 0);
			}
		}
		*/
		
		sinon.stub(window, "prompt");

		prompt.onCall(0).returns("2");
		prompt.onCall(1).returns("3");

		describe("calculator", function() {
			before(function() {
				calculator.read();
			});

			it("при вводе 2 и 3 сумма равна 5", function() {
				assert.equal(calculator.sum(), 5);
			});

			it("при вводе 2 и 3 произведение равно 6", function() {
				assert.equal(calculator.mul(), 6);
			});
		});

		after(function() {
			prompt.restore();
		});

	</script>

</body>
</html>